 NOLIST
;----------------------------------------------------------
; Code Produced by the PROTON+ Compiler. Version 3.2.5.5
; Copyright Rosetta Technologies/Crownhill Associates
; Written by Les Johnson. February 2007
;----------------------------------------------------------
 LIST
	LIST
;{
;FILE F1 = C:\PROJELER\TRANSPONDER\TEST.BAS
;FILE F2 = C:\PROJELER\TRANSPONDER\TEST.PRP
;}
;[Variable Listing]
;B21,000D,DT_BYTE,1
;B22,000E,DT_BYTE,1
;B23,000F,DT_BYTE,1
;B24,0010,DT_BYTE,1
;B25,0011,DT_BYTE,1
;B26,0012,DT_BYTE,1
;_A,0013,DT_BYTE,1
;SDA,0F82.7,DT_BIT
;SCL,0F82.6,DT_BIT
;[End Listing]
 #define _USELFSR 1
 LIST  P = 18F2550,f = INHX32 ,w = 2, x = on, r = DEC, mm = ON, n = 0, c = 255
 #include "C:\pic\proton\pds\INC\P18F2550.lpb"
 #define __18F2550 1
 #define XTAL 20
 #define _CORE 16
 #define _MAXRAM 1024
 #define _RAM_END 2047
 #define _MAXMEM 32768
 #define _ADC 10
 #define _ADC_RES 10
 #define _EEPROM 256
 #define RAM_BANKS 4
 #define _USART 1
 #define _USB 1
 #define _FLASH 1
 #define _CWRITE_BLOCK 32
 #define BANK0_START 96
 #define BANK0_END 249
 #define BANK1_START 256
 #define BANK1_END 511
 #define BANK2_START 512
 #define BANK2_END 767
 #define BANK3_START 768
 #define BANK3_END 1023
 #define BANKA_START 0
 #define BANKA_END 95
 #define _SYSTEM_VARIABLE_COUNT 13
ram_bank = 0
 #define LCD#TYPE 0
 ifdef HLVDCON
  ifndef LVDCON
   #define LVDCON HLVDCON
  endif
 endif
 #include "C:\pic\proton\pds\INC\REG_LD16.INC"
BPF = 0
GEN = 1
GEN2 = 2
GEN2H = 3
GENH = 4
GPR = 5
PP0 = 6
PP0H = 7
PP1 = 8
PP1H = 9
PP3 = 10
PP4 = 11
PP4H = 12
; START OF USB BUFFERS
__USBOUT_BUFFER = 0x0511
__USBOUT_BUFFER_D = __USBOUT_BUFFER
__USBOUT_BUFFERH = __USBOUT_BUFFER + 1
__USBOUT_BUFFER_DH = __USBOUT_BUFFER + 1
__USBOUT_BUFFERHH = __USBOUT_BUFFER + 2
__USBOUT_BUFFER_DHH = __USBOUT_BUFFER + 2
__USBOUT_BUFFERHHH = __USBOUT_BUFFER + 3
__USBOUT_BUFFER_DHHH = __USBOUT_BUFFER + 3
 Variable __USBOUT_BUFFER#0=0x0511,__USBOUT_BUFFER#1=0x0512,__USBOUT_BUFFER#2=0x0513,__USBOUT_BUFFER#3=0x0514
 Variable __USBOUT_BUFFER#4=0x0515,__USBOUT_BUFFER#5=0x0516,__USBOUT_BUFFER#6=0x0517,__USBOUT_BUFFER#7=0x0518
 Variable __USBOUT_BUFFER#8=0x0519,__USBOUT_BUFFER#9=0x051A,__USBOUT_BUFFER#10=0x051B,__USBOUT_BUFFER#11=0x051C
 Variable __USBOUT_BUFFER#12=0x051D,__USBOUT_BUFFER#13=0x051E,__USBOUT_BUFFER#14=0x051F,__USBOUT_BUFFER#15=0x0520
 Variable __USBOUT_BUFFER#16=0x0521,__USBOUT_BUFFER#17=0x0522,__USBOUT_BUFFER#18=0x0523,__USBOUT_BUFFER#19=0x0524
 Variable __USBOUT_BUFFER#20=0x0525,__USBOUT_BUFFER#21=0x0526,__USBOUT_BUFFER#22=0x0527,__USBOUT_BUFFER#23=0x0528
 Variable __USBOUT_BUFFER#24=0x0529,__USBOUT_BUFFER#25=0x052A,__USBOUT_BUFFER#26=0x052B,__USBOUT_BUFFER#27=0x052C
 Variable __USBOUT_BUFFER#28=0x052D,__USBOUT_BUFFER#29=0x052E,__USBOUT_BUFFER#30=0x052F,__USBOUT_BUFFER#31=0x0530
 Variable __USBOUT_BUFFER#32=0x0531,__USBOUT_BUFFER#33=0x0532,__USBOUT_BUFFER#34=0x0533,__USBOUT_BUFFER#35=0x0534
 Variable __USBOUT_BUFFER#36=0x0535,__USBOUT_BUFFER#37=0x0536,__USBOUT_BUFFER#38=0x0537,__USBOUT_BUFFER#39=0x0538
 Variable __USBOUT_BUFFER#40=0x0539,__USBOUT_BUFFER#41=0x053A,__USBOUT_BUFFER#42=0x053B,__USBOUT_BUFFER#43=0x053C
 Variable __USBOUT_BUFFER#44=0x053D,__USBOUT_BUFFER#45=0x053E,__USBOUT_BUFFER#46=0x053F,__USBOUT_BUFFER#47=0x0540
 Variable __USBOUT_BUFFER#48=0x0541,__USBOUT_BUFFER#49=0x0542,__USBOUT_BUFFER#50=0x0543,__USBOUT_BUFFER#51=0x0544
 Variable __USBOUT_BUFFER#52=0x0545,__USBOUT_BUFFER#53=0x0546,__USBOUT_BUFFER#54=0x0547,__USBOUT_BUFFER#55=0x0548
 Variable __USBOUT_BUFFER#56=0x0549,__USBOUT_BUFFER#57=0x054A,__USBOUT_BUFFER#58=0x054B,__USBOUT_BUFFER#59=0x054C
 Variable __USBOUT_BUFFER#60=0x054D,__USBOUT_BUFFER#61=0x054E,__USBOUT_BUFFER#62=0x054F,__USBOUT_BUFFER#63=0x0550
 Variable __USBOUT_BUFFER#64=0x0551,__USBOUT_BUFFER#65=0x0552,__USBOUT_BUFFER#66=0x0553,__USBOUT_BUFFER#67=0x0554
 Variable __USBOUT_BUFFER#68=0x0555,__USBOUT_BUFFER#69=0x0556,__USBOUT_BUFFER#70=0x0557,__USBOUT_BUFFER#71=0x0558
 Variable __USBOUT_BUFFER#72=0x0559,__USBOUT_BUFFER#73=0x055A,__USBOUT_BUFFER#74=0x055B,__USBOUT_BUFFER#75=0x055C
 Variable __USBOUT_BUFFER#76=0x055D,__USBOUT_BUFFER#77=0x055E,__USBOUT_BUFFER#78=0x055F,__USBOUT_BUFFER#79=0x0560
 Variable __USBOUT_BUFFER#80=0x0561,__USBOUT_BUFFER#81=0x0562,__USBOUT_BUFFER#82=0x0563,__USBOUT_BUFFER#83=0x0564
 Variable __USBOUT_BUFFER#84=0x0565,__USBOUT_BUFFER#85=0x0566,__USBOUT_BUFFER#86=0x0567,__USBOUT_BUFFER#87=0x0568
 Variable __USBOUT_BUFFER#88=0x0569,__USBOUT_BUFFER#89=0x056A,__USBOUT_BUFFER#90=0x056B,__USBOUT_BUFFER#91=0x056C
 Variable __USBOUT_BUFFER#92=0x056D,__USBOUT_BUFFER#93=0x056E,__USBOUT_BUFFER#94=0x056F,__USBOUT_BUFFER#95=0x0570
 Variable __USBOUT_BUFFER#96=0x0571,__USBOUT_BUFFER#97=0x0572,__USBOUT_BUFFER#98=0x0573,__USBOUT_BUFFER#99=0x0574
 Variable __USBOUT_BUFFER#100=0x0575,__USBOUT_BUFFER#101=0x0576,__USBOUT_BUFFER#102=0x0577,__USBOUT_BUFFER#103=0x0578
 Variable __USBOUT_BUFFER#104=0x0579,__USBOUT_BUFFER#105=0x057A,__USBOUT_BUFFER#106=0x057B,__USBOUT_BUFFER#107=0x057C
 Variable __USBOUT_BUFFER#108=0x057D,__USBOUT_BUFFER#109=0x057E,__USBOUT_BUFFER#110=0x057F,__USBOUT_BUFFER#111=0x0580
 Variable __USBOUT_BUFFER#112=0x0581,__USBOUT_BUFFER#113=0x0582,__USBOUT_BUFFER#114=0x0583,__USBOUT_BUFFER#115=0x0584
 Variable __USBOUT_BUFFER#116=0x0585,__USBOUT_BUFFER#117=0x0586,__USBOUT_BUFFER#118=0x0587,__USBOUT_BUFFER#119=0x0588
 Variable __USBOUT_BUFFER#120=0x0589,__USBOUT_BUFFER#121=0x058A,__USBOUT_BUFFER#122=0x058B,__USBOUT_BUFFER#123=0x058C
 Variable __USBOUT_BUFFER#124=0x058D,__USBOUT_BUFFER#125=0x058E,__USBOUT_BUFFER#126=0x058F,__USBOUT_BUFFER#127=0x0590
__USBIN_BUFFER = 0x0601
 Variable __USBIN_BUFFER#0=0x0601,__USBIN_BUFFER#1=0x0602,__USBIN_BUFFER#2=0x0603,__USBIN_BUFFER#3=0x0604
 Variable __USBIN_BUFFER#4=0x0605,__USBIN_BUFFER#5=0x0606,__USBIN_BUFFER#6=0x0607,__USBIN_BUFFER#7=0x0608
 Variable __USBIN_BUFFER#8=0x0609,__USBIN_BUFFER#9=0x060A,__USBIN_BUFFER#10=0x060B,__USBIN_BUFFER#11=0x060C
 Variable __USBIN_BUFFER#12=0x060D,__USBIN_BUFFER#13=0x060E,__USBIN_BUFFER#14=0x060F,__USBIN_BUFFER#15=0x0610
 Variable __USBIN_BUFFER#16=0x0611,__USBIN_BUFFER#17=0x0612,__USBIN_BUFFER#18=0x0613,__USBIN_BUFFER#19=0x0614
 Variable __USBIN_BUFFER#20=0x0615,__USBIN_BUFFER#21=0x0616,__USBIN_BUFFER#22=0x0617,__USBIN_BUFFER#23=0x0618
 Variable __USBIN_BUFFER#24=0x0619,__USBIN_BUFFER#25=0x061A,__USBIN_BUFFER#26=0x061B,__USBIN_BUFFER#27=0x061C
 Variable __USBIN_BUFFER#28=0x061D,__USBIN_BUFFER#29=0x061E,__USBIN_BUFFER#30=0x061F,__USBIN_BUFFER#31=0x0620
 Variable __USBIN_BUFFER#32=0x0621,__USBIN_BUFFER#33=0x0622,__USBIN_BUFFER#34=0x0623,__USBIN_BUFFER#35=0x0624
 Variable __USBIN_BUFFER#36=0x0625,__USBIN_BUFFER#37=0x0626,__USBIN_BUFFER#38=0x0627,__USBIN_BUFFER#39=0x0628
 Variable __USBIN_BUFFER#40=0x0629,__USBIN_BUFFER#41=0x062A,__USBIN_BUFFER#42=0x062B,__USBIN_BUFFER#43=0x062C
 Variable __USBIN_BUFFER#44=0x062D,__USBIN_BUFFER#45=0x062E,__USBIN_BUFFER#46=0x062F,__USBIN_BUFFER#47=0x0630
 Variable __USBIN_BUFFER#48=0x0631,__USBIN_BUFFER#49=0x0632,__USBIN_BUFFER#50=0x0633,__USBIN_BUFFER#51=0x0634
 Variable __USBIN_BUFFER#52=0x0635,__USBIN_BUFFER#53=0x0636,__USBIN_BUFFER#54=0x0637,__USBIN_BUFFER#55=0x0638
 Variable __USBIN_BUFFER#56=0x0639,__USBIN_BUFFER#57=0x063A,__USBIN_BUFFER#58=0x063B,__USBIN_BUFFER#59=0x063C
 Variable __USBIN_BUFFER#60=0x063D,__USBIN_BUFFER#61=0x063E,__USBIN_BUFFER#62=0x063F,__USBIN_BUFFER#63=0x0640
 Variable __USBIN_BUFFER#64=0x0641,__USBIN_BUFFER#65=0x0642,__USBIN_BUFFER#66=0x0643,__USBIN_BUFFER#67=0x0644
 Variable __USBIN_BUFFER#68=0x0645,__USBIN_BUFFER#69=0x0646,__USBIN_BUFFER#70=0x0647,__USBIN_BUFFER#71=0x0648
 Variable __USBIN_BUFFER#72=0x0649,__USBIN_BUFFER#73=0x064A,__USBIN_BUFFER#74=0x064B,__USBIN_BUFFER#75=0x064C
 Variable __USBIN_BUFFER#76=0x064D,__USBIN_BUFFER#77=0x064E,__USBIN_BUFFER#78=0x064F,__USBIN_BUFFER#79=0x0650
 Variable __USBIN_BUFFER#80=0x0651,__USBIN_BUFFER#81=0x0652,__USBIN_BUFFER#82=0x0653,__USBIN_BUFFER#83=0x0654
 Variable __USBIN_BUFFER#84=0x0655,__USBIN_BUFFER#85=0x0656,__USBIN_BUFFER#86=0x0657,__USBIN_BUFFER#87=0x0658
 Variable __USBIN_BUFFER#88=0x0659,__USBIN_BUFFER#89=0x065A,__USBIN_BUFFER#90=0x065B,__USBIN_BUFFER#91=0x065C
 Variable __USBIN_BUFFER#92=0x065D,__USBIN_BUFFER#93=0x065E,__USBIN_BUFFER#94=0x065F,__USBIN_BUFFER#95=0x0660
 Variable __USBIN_BUFFER#96=0x0661,__USBIN_BUFFER#97=0x0662,__USBIN_BUFFER#98=0x0663,__USBIN_BUFFER#99=0x0664
 Variable __USBIN_BUFFER#100=0x0665,__USBIN_BUFFER#101=0x0666,__USBIN_BUFFER#102=0x0667,__USBIN_BUFFER#103=0x0668
 Variable __USBIN_BUFFER#104=0x0669,__USBIN_BUFFER#105=0x066A,__USBIN_BUFFER#106=0x066B,__USBIN_BUFFER#107=0x066C
 Variable __USBIN_BUFFER#108=0x066D,__USBIN_BUFFER#109=0x066E,__USBIN_BUFFER#110=0x066F,__USBIN_BUFFER#111=0x0670
 Variable __USBIN_BUFFER#112=0x0671,__USBIN_BUFFER#113=0x0672,__USBIN_BUFFER#114=0x0673,__USBIN_BUFFER#115=0x0674
 Variable __USBIN_BUFFER#116=0x0675,__USBIN_BUFFER#117=0x0676,__USBIN_BUFFER#118=0x0677,__USBIN_BUFFER#119=0x0678
 Variable __USBIN_BUFFER#120=0x0679,__USBIN_BUFFER#121=0x067A,__USBIN_BUFFER#122=0x067B,__USBIN_BUFFER#123=0x067C
 Variable __USBIN_BUFFER#124=0x067D,__USBIN_BUFFER#125=0x067E,__USBIN_BUFFER#126=0x067F,__USBIN_BUFFER#127=0x0680
; END OF USB BUFFERS
	org 0X00
	goto Start@
	org 0X08
i2cout2
	bsf 0,4
	btfss 0,4
i2cout
	bcf 0,4
	btfsc 0,6
	bra i2c@outc
	andlw 254
	movwf 5
	bsf 0,6
	bcf 4056,0
	return
i2c@outc
	btfsc 0,7
	bra i2cout@i
	movwf 10
	bsf 0,7
	rcall i2c@stt
	bc i2c@stp
	movf 10,w
i2cout@i
	rcall i2c@ob
	bc i2c@stp
	btfss 0,4
	return
i2c@stp
	rcall i2c@dl
	rcall i2c@ch
	bcf 0,6
	bcf 0,7
	bcf 0,5
	rcall i2c@dh
	return
i2c@dh
	setf 4066
	incfsz 1,w
	movwf 4065
	bsf 4065,4
	movf 4,w
i2c@hh
	iorwf 4068,f
	bra i2c@lh
i2c@dl
	setf 4066
	movff 1,4065
	comf 4,w
i2c@wl
	andwf 4070,f
	bsf 4065,4
	andwf 4068,f
i2c@lh
	return
i2c@stt
	rcall i2c@dh
	rcall i2c@ch
	rcall i2c@dl
	rcall i2c@cl
	movf 5,w
	btfsc 0,5
	iorlw 1
i2c@ob
	movwf 8
	movlw 8
	movwf 9
i2cout@lp
	rlcf 8,f
	btfsc 4056,0
	rcall i2c@dh
	btfss 4056,0
	rcall i2c@dl
	rcall i2c@ch
	rcall i2c@cl
	decfsz 9,f
	bra i2cout@lp
	rcall i2c@dh
i2c@gb
	rcall i2c@ch
	setf 4066
	movff 1,4065
	movf 4,w
	andwf 4071,w
	addlw 255
i2c@cl
	setf 4066
	movff 2,4065
	comf 3,w
	bra i2c@wl
i2c@ch
	setf 4066
i2c@hd
	incfsz 2,w
	movwf 4065
	bsf 4065,4
	movf 3,w
	bra i2c@hh
dl@ms
	clrf 9
dly@w
	movwf 8
dly@p
	movlw 255
	addwf 8,f
	addwfc 9,f
	bra $ + 2
	btfss 4056,0
	return
	movlw 3
	movwf 7
	movlw 230
	rcall dlus@w
	bra dly@p
dl@us
	clrf 7
dlus@w
	addlw 252
	movwf 6
	comf 7,f
	btfss 4056,0
	bra dl@h
dlus@lp0
	movlw 255
dlus@lp
	nop
	addwf 6,f
	btfsc 4056,0
	bra dlus@lp
	addwf 6,f
dl@h
	nop
	incfsz 7,f
	bra dlus@lp0
	return
; User Constants
__XTAL = 20
Start@
	clrf 4088
	clrf 0
	clrf 4011
 LIST
main@prog@start
